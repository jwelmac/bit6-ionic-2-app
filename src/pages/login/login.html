<!--
  Generated template for the Login page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content class="bg-img login-content" padding>
  <ion-list>
      <div class="logo">
        <img src="assets/img/logo.png">
      </div>

      <form #loginForm="ngForm" novalidate>
        <ion-item>
          <ion-label floating color="primary">Username</ion-label>
          <ion-input [(ngModel)]="login.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off" required>
          </ion-input>
        </ion-item>
        <p [hidden]="username.valid || submitted == false" color="danger" padding-left>
          Username is required
        </p>

        <ion-item>
          <ion-label floating color="primary">Password</ion-label>
          <ion-input [(ngModel)]="login.password" name="password" type="password" #password="ngModel" required>
          </ion-input>
        </ion-item>
        <p [hidden]="password.valid || submitted == false" color="danger" padding-left>
          Password is required
        </p>

        <div *ngIf="signup">
          <ion-item >
            <ion-label floating color="primary">Confirm Password</ion-label>
            <ion-input [(ngModel)]="login.passwordCheck" type="password"
            [ngModelOptions]="{standalone: true}"  (keyup)="checkPasswordsMatch()" required>
            </ion-input>
          </ion-item>
          <p [hidden]="login.passwordsMatch" color="danger" padding-left>
            Passwords don't match
          </p>
        </div>

        <ion-item>
          <ion-label>Remember Me: </ion-label>
          <ion-toggle [(ngModel)]="appData.keepLoggedIn" [ngModelOptions]="{standalone: true}"
          (ionChange)="appData.rememberLogin($event)"></ion-toggle>
        </ion-item>

        <ion-row responsive-sm>
          <ion-col>
            <button ion-button (click)="onLogin(loginForm)" type="submit" color="primary" block>
              {{signup ? "Sign Up" : "Login"}}
            </button>
          </ion-col>
          <ion-col>
            <div class="text-center">
              <strong><a (click)="onSignup()">{{!signup ? "Sign Up" : "Login"}}</a></strong> |
              <strong><a>Forgot Password</a></strong>
            </div>
          </ion-col>
        </ion-row>
      </form>
    </ion-list>
    <ion-footer class="text-center">
      <small>
        <a href="https://github.com/bit6/bit6-cordova" target="_blank">Bit6 Cordova Plugin v0.9.9</a> |
        <a href="http://ionicframework.com/docs/v2/" target="_blank">Ionic v2-rc0</a>
      </small>
    </ion-footer>
</ion-content>
